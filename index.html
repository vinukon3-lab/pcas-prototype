<!DOCTYPE html>
<html>
<head>
    <title>PCAS Prototype - Pedestrian Collision Avoidance System</title>
    <link rel="stylesheet" href="styles.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/p5.js/1.7.0/p5.min.js"></script>
</head>
<body>
    <div id="main-container">
        <h1>PCAS Prototype</h1>
        <p class="subtitle">Pedestrian Collision Avoidance System - Zero Collision Guarantee</p>
        
        <div id="controls">
            <div class="control-row">
                <button id="prevBtn">◄ Previous Scenario</button>
                <div class="scenario-info">
                    <div class="scenario-number" id="scenarioNum">Scenario 1/11</div>
                    <div class="scenario-desc" id="scenarioDesc">Static Pedestrian Center</div>
                </div>
                <button id="nextBtn">Next Scenario ►</button>
            </div>

            <div class="control-row">
                <label for="scenarioSelect">Jump to Scenario:</label>
                <select id="scenarioSelect">
                    <option value="1">1 - Static Pedestrian Center</option>
                    <option value="2">2 - Pedestrian Crossing Into Path</option>
                    <option value="3">3 - Pedestrian Moving Away</option>
                    <option value="4">4 - Pedestrian Far Left Entry</option>
                    <option value="5">5 - Pedestrian Far Right Entry</option>
                    <option value="6">6 - Static Pedestrian Left Side</option>
                    <option value="7">7 - Static Pedestrian Right Side</option>
                    <option value="8">8 - Fast Pedestrian Crossing</option>
                    <option value="9">9 - Pedestrian At Center Moving</option>
                    <option value="10">10 - Slow Pedestrian Crossing</option>
                    <option value="11">11 - Custom Scenario</option>
                </select>
            </div>

            <div class="control-row" id="customInputs" style="display: none;">
                <div class="custom-input-group">
                    <label for="customSpeedInput">Pedestrian Speed (kph):</label>
                    <input type="number" id="customSpeedInput" min="0" max="20" value="0" step="0.5">
                </div>
                <div class="custom-input-group">
                    <label for="customDistanceInput">Pedestrian Distance (m):</label>
                    <input type="number" id="customDistanceInput" min="10" max="80" value="35" step="1">
                </div>
            </div>
            
            <div class="control-row">
                <button id="playBtn">▶ Play Simulation</button>
                <button id="resetBtn">↻ Reset</button>
                <label>
                    <input type="checkbox" id="failSafeCheck">
                    <span>Fail-Safe Mode (900ms brake delay)</span>
                </label>
            </div>
        </div>
        
        <div id="canvas-container"></div>
        
        <div id="info-panel">
            <div class="info-title">System Information & Legend</div>
            <ul class="info-list">
                <li><strong>Blue Rectangle</strong> = Vehicle (2m wide, 4m long) at steady state 50 kph</li>
                <li><strong>Orange Rectangle</strong> = Vehicle actively braking (deceleration: 0.7g)</li>
                <li><strong>Yellow Circle</strong> = Pedestrian (1m diameter)</li>
                <li><strong>Red</strong> = Collision detected - system failed!</li>
                <li><strong>Dashed Blue Line</strong> = Projected collision zone ahead of vehicle</li>
                <li><strong>Normal Mode:</strong> 200ms brake response time</li>
                <li><strong>Fail-Safe Mode:</strong> 900ms brake response time (degraded braking)</li>
                <li><strong>System Goal:</strong> ZERO collisions while minimizing lost time</li>
                <li><strong>Custom Scenario:</strong> Define your own pedestrian speed and distance for testing</li>
            </ul>
        </div>
    </div>
    
    <script src="sketch.js"></script>
</body>
</html>